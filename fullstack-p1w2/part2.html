<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="author" content="Jiancheng">
  <title>part2</title>
  <script type="text/javascript">
    var colors = ["aqua", "black", "cyan", "gold",
      "orange", "pink", "red", "silver", "yellow"
    ];

    function do_game() {
      var random_pick = Math.floor(Math.random() * colors.length);
      var secret = colors[random_pick];
      var announce = "I'm thinking one of the following colors:\n\n";
      announce += colors.join(", ");
      announce += "\n\nDo you want to guess one?";
      announce += "\n\nThe indeed answer is " + secret + ".";
      var finished = false;
      var guesses = 0;
      while (!finished) {
        guesses++;
        var answer = prompt(announce);
        finished = check_guess(answer, secret, guesses);
      }
      var myBody = document.getElementsByTagName("body")[0];
      myBody.style.background = secret;
    }

    function check_guess(answer, secret, guesses) {
      var show = "Your input is " + answer +
        ", you have already tried " + guesses + " times.\n\n";
      if (colors.indexOf(answer)<0) {
        show += "Sorry, I don't know your color!\n\n";
      } else if (answer < secret) {
        show += "Sorry, your answer is not correct!\n\n" +
          "Hint: your color is alphabetically lower than me!\n\n" +
          "Please try again.";
      } else if (answer > secret) {
        show += "Sorry, your answer is not correct!\n\n" +
          "Hint: your color is alphabetically higher than me!\n\n" +
          "Please try again.";
      } else {
        show += "Congrats! You got it!\n\n" +
          "You can see it in the background.";
      }
      alert(show);
      return answer == secret;
    }
  </script>
</head>

<body onload="do_game()">
</body>

</html>
